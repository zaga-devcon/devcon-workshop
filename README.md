# devcon-workshop
# OpenTelemetry + Jaeger + Demo App with Docker Compose

# This repository provides a Docker Compose setup for running an OpenTelemetry (OTel) Collector, Jaeger, and a sample demo application. The setup facilitates distributed tracing and monitoring using OpenTelemetry.

# Prerequisites

Ensure you have the following installed on your machine:
- [Docker](https://www.docker.com/get-started)
- [Docker Compose](https://docs.docker.com/compose/install/)

# Services

# 1. OpenTelemetry Collector (`otel-collector`)
The OpenTelemetry Collector gathers and forwards traces and metrics to Jaeger and other observability backends.

- **Image**: `otel/opentelemetry-collector-contrib:latest`
- **Configuration File**: `./otel/otel-config.yaml`
- **Exposed Ports**:
  - `4317`: OTLP gRPC
  - `4318`: OTLP HTTP
  - `8000`: Logs
  - `55681`: OpenCensus
  - `9464`: Prometheus Metrics
- **Depends on**: `jaeger`

### 2. Jaeger (`jaeger`)
Jaeger is used for visualizing and analyzing distributed traces.

- **Image**: `jaegertracing/jaeger:2.3.0`
- **Environment Variables**:
  - `COLLECTOR_ZIPKIN_HTTP_PORT=9411`
- **Exposed Ports**:
  - `16686`: Jaeger UI
  - `9411`: Zipkin HTTP
  - `5778`: Configurations

### 3. Demo Application (`demo-app`)
A sample application that generates traces and sends them to the OpenTelemetry Collector.

- **Build Context**: `./demo-app/`
- **Environment Variables**:
  - `OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317`
  - `OTEL_RESOURCE_ATTRIBUTES=service.name=demo-app`
  - `OTEL_SERVICE_NAME=demo-app`
- **Exposed Ports**:
  - `3000:5000` (Maps port `5000` inside the container to `3000` on the host)
- **Depends on**: `otel-collector`

## Network Configuration

All services are connected via a custom Docker network named `otel-network` using the bridge driver.

# How to Run the Setup

1. Clone this repository:
   
   git clone <repository-url>
   cd <repository-directory>
   

2. Start the services using Docker Compose:
   
   docker-compose up -d
  

3. Verify that the services are running:
   
   docker ps
   

4. Access Jaeger UI:
   - Open a browser and go to: [http://localhost:16686](http://localhost:16686)

5. Stop and remove containers when done:
   
   docker-compose down
   

# Notes
- Modify `otel/otel-config.yaml` to customize OpenTelemetry configurations.
- Ensure the application sends traces using the OpenTelemetry SDK.
- Jaeger provides an interface to inspect traces generated by the demo application.

# Troubleshooting
- Check logs for any issues:
  docker-compose logs -f <service-name>


---

Happy tracing! ðŸš€

